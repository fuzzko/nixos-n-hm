(defwidget hypr-workspaces [?instance ?spacing ?orientation]
  (deflisten workspaces
    `hyprctl -j -i ${instance ?: 0} workspaces |
      jq -r '[ .[] | select(.name | test("^special") | not) ]'`)
  (box
    :spacing {spacing ?: 2}
    :orientation {orientation ?: "h"}
    (for workspace in workspaces
      (box :class "hypr-workspace-button"
        (button :nth {workspace.id}
                :onclick "hyprctl -i ${instance ?: 0} exec workspace ${workspace.id}")))))
